# 进度聚合展示规范 v0.1.0

工作包：wp-dashboard-progress-rollup-v0.1.0
批次ID：dispatch-address-line-closure-007
负责人：管理看板研发线-Codex
状态：draft
更新时间（本地）：2026-02-16 09:40 CST

---

## 1) 聚合展示规范

### 1.1 口径定义
- 工作线进度：以“工作线维度的执行完成度”为主，来源为 worklines_overview.json 的 progress。
- 工作包进度：以“单工作包验收推进度”为主，来源为 workpackages_live.json 的 progress。
- 展示优先级：默认以工作线进度为主显示；工作包进度用于明细佐证。

### 1.2 展示规则
- 主表：工作线任务总览展示工作线进度（line progress）。
- 明细表：工作包执行进展展示工作包进度（package progress）。
- 汇总/平均：若需显示“总体进度”，采用工作线进度加权均值：
  - 权重优先级：P0=1.0, P1=0.7, P2=0.4。
  - 如果无优先级信息，则按等权均值。

### 1.3 进度一致性说明
- 工作线进度与工作包进度不必一致：工作线进度包含跨包协作、验收口径、风险缓冲等。
- 若出现偏差，必须在看板中给出“偏差提示”。

---

## 2) 偏差提示规则

### 2.1 定义
- 偏差 = 工作线进度 - 工作包进度均值。

### 2.2 触发条件
- 绝对偏差 >= 15%，触发“偏差提示”。
- 偏差 >= +25%：提示“工作线推进快于包均值，可能存在协作/验收提前完成”。
- 偏差 <= -25%：提示“工作线推进慢于包均值，可能存在上游阻塞或验收未收口”。

### 2.3 展示方式（不改代码，仅规范）
- 在工作线任务总览表的“状态”栏下方补一行提示（灰色小字）。
- 在工作包执行进展表顶部说明“进度为工作包自身进度，非工作线总控进度”。

---

## 3) 看板展示口径说明（不改代码）

### 3.1 对管理层口径
- 工作线进度是“任务线总控进度”，用于判断项目协调与验收收口。
- 工作包进度是“单包执行进度”，用于判断交付风险与阻塞。
- 两者不一致是正常现象，偏差提示用于解释原因。

### 3.2 对执行层口径
- 工作线进度以“任务线目标完成度”为准；
- 工作包进度以“交付物验收完成度”为准；
- 评估优先顺序：工作线 > 工作包 > 单项任务。

---

## 风险前置披露
- 当前 workpackages_live.json 缺少 owner_line 关联字段，导致无法精确将包映射到工作线。
- 在未补齐字段前，进度偏差只按全局平均计算，可能低估真实偏差。

---

## 可验证产出
- 本文档为进度聚合展示规范的唯一口径文档。
- 计划在完成 PM 梳理后同步到看板说明区（不改代码）。
