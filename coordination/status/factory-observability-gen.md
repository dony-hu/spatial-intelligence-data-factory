# 子线状态：工厂-产线观测代码生成

- 进度：90%
- Done：
  - TC-05 已启动
  - L3 约束已冻结：观测代码由工厂生成并随工作包下发
  - 已生成首版观测入口并随工作包下发
  - 已在 `process_compiler/tool_generator` 接入自动生成观测包（`line_observe.py` + `line_metrics.json`）
  - 已增加步骤级标准错误码字段（`STEP_<STEP_NAME>_FAIL`）并写入观测产物
  - 已在 `process_compiler/compiler` 接入自动触发观测包生成并写入 `process_spec.observability_bundle`
  - 已新增回归测试：`tests/test_process_compiler_observability.py`（1/1 通过）
- Next：
  - 将观测包入口与 `workpackage` 编译链直接打通（按版本号自动引用）
  - 补 `step_error_rate` 指标在运行时采集逻辑
- Blocker：无
- ETA：2026-02-15 14:00（本地时间）完成运行时指标采集对接
- Artifacts：
  - `observability/l3/line_observability_spec.md`
  - `workpackages/bundles/address-topology-v1.0.1/observability/line_observe.py`
  - `workpackages/bundles/address-topology-v1.0.1/observability/line_metrics.json`
  - `tools/process_compiler/tool_generator.py`
  - `tools/process_compiler/compiler.py`
  - `tests/test_process_compiler_observability.py`
