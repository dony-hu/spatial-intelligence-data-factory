# 系统现状梳理与任务规划 Tasks

## 优先级说明
- **P0**: 阻塞性问题，必须立即修复
- **P1**: 高优先级，尽快完成
- **P2**: 中优先级，按计划推进
- **P3**: 低优先级，排期完成

---

## 任务列表

### P0 优先级任务
- [ ] 任务 1: 修复 Governance API Postgres 集成测试失败
  - [ ] 子任务 1.1: 分析 `test_activate_ruleset_requires_approved_change_request_postgres` 失败原因
  - [ ] 子任务 1.2: 修复测试或代码问题
  - [ ] 子任务 1.3: 验证修复，确保 Governance API 所有测试通过

### P1 优先级任务
- [ ] 任务 2: 设计 line_feedback schema v2 (Production Line workline)
  - [ ] 子任务 2.1: 调研当前 line_feedback 合同使用情况
  - [ ] 子任务 2.2: 设计 v2 版本的 schema
  - [ ] 子任务 2.3: 编写文档和示例
  - [ ] 子任务 2.4: 更新相关测试

### P2 优先级任务
- [ ] 任务 3: 统一进度口径 (Orchestrator workline)
  - [ ] 子任务 3.1: 分析当前各工作线进度报告的口径差异
  - [ ] 子任务 3.2: 制定统一的进度计算标准
  - [ ] 子任务 3.3: 更新各工作线的进度报告逻辑
  - [ ] 子任务 3.4: 验证进度一致性

### P3 优先级任务
- [ ] 任务 4: 统一超时策略 (Core Engine workline)
  - [ ] 子任务 4.1: 分析当前各服务的超时配置
  - [ ] 子任务 4.2: 设计统一的超时策略
  - [ ] 子任务 4.3: 更新各服务的超时配置
  - [ ] 子任务 4.4: 验证超时机制

---

## 任务依赖关系

- 任务 2 (P1) 依赖任务 1 (P0) 完成
- 任务 3 (P2) 可与任务 2 并行
- 任务 4 (P3) 可在任务 1 完成后开始

---

## 验收标准

### 任务 1 验收标准
- Governance API 所有 35 个测试全部通过
- 无其他回归问题

### 任务 2 验收标准
- line_feedback schema v2 文档完整
- 相关测试更新并通过
- 向后兼容性考虑充分

### 任务 3 验收标准
- 各工作线进度报告口径统一
- 进度计算准确且可追溯

### 任务 4 验收标准
- 所有服务超时策略统一
- 超时机制正常工作
